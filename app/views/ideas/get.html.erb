<div class="ext_style">
  <div class="header">Idea: <%= @idea.name %></div>

<% form_for( @idea, :url => idea_path ) do |f| %>
  <table class="form_area">
    <tbody>
      <tr class="top_padding">
        <td class="label">&nbsp;</td>
        <td>&nbsp;</td>
      </tr>
      <tr>
        <td class="label">Name:</td>
        <td><%= f.text_field :name, :class => "string" %></td>
      </tr>
      <tr>
        <td class="label">User:</td>
        <td><%= f.select :user_id, User.all.collect{ |u| [ u.name, u.id ] }, { :include_blank => true } %></td>
      </tr>
      <tr>
        <td class="label">Elevator Pitch:</td>
        <td><%= f.text_area :elevator %></td>
      </tr>
      <tr>
        <td class="label">Full Story:</td>
        <td><%= f.text_area :full %></td>
      </tr>
      <tr>
        <td class="label">Marketing Angles:</td>
        <td><%= f.text_area :marketing %></td>
      </tr>
    </tbody>
    
    <tfoot>
      <tr>
        <td colspan="2">
          <button type="submit"><%= @idea.new_record? ? "Create" : "Save" %></button>
          <button type="button" onclick="document.location='<%= ideas_path %>';return false;">Cancel</button>
        </td>
    </tfoot>
  </table>
<% end %>
<% unless @idea.new_record? -%>
  <table class="form_area">
    <tbody>
      <tr>
      	<td class="label">Comments:</td>
      	<td>
<%= render :partial => 'comments/get', :collection => @idea.comments %>      	
<%= render :partial => 'comments/get', :object => Comment.new( :idea_id => @idea.id ) %>      	
      	</td>
      </tr>
    </tbody>
  </table>
<% end -%>
</div>

